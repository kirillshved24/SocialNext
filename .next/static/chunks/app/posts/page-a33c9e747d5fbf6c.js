(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{1753:(n,e,t)=>{Promise.resolve().then(t.bind(t,158))},158:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>A});var r=t(5155),i=t(2115),o=t(3391),u=t(1735),l=t(5360),a=t(1591),d=t(2817),s=t(539),c=t(698),p=t(5285);function x(){let n=(0,c._)(["\n      width: 100%;\n    max-width: 600px;\n    padding: 20px;\n    margin: 0 auto;\n    background-color: #c3a3a3;\n    border-radius: 10px;\n  \n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n\n"]);return x=function(){return n},n}function f(){let n=(0,c._)(["\n padding: 10px;\n    height: 100px;\n    border-radius: 8px;\n    border: 1px solid #ccc;\n    font-size: 16px;\n"]);return f=function(){return n},n}function h(){let n=(0,c._)(["\n  display: flex;\n  gap: 20px;\n"]);return h=function(){return n},n}function g(){let n=(0,c._)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]);return g=function(){return n},n}function m(){let n=(0,c._)(["\n  margin: 0;\n  padding: 0;\n"]);return m=function(){return n},n}let v=p.Ay.div(x()),y=p.Ay.textarea(f()),j=p.Ay.div(h());p.Ay.label(g());let _=p.Ay.input(m());var b=t(4877);let w=()=>{let[n,e]=(0,i.useState)(""),[t,c]=(0,i.useState)(""),[p,x]=(0,i.useState)(!1),[f,h]=(0,i.useState)(null),[g,m]=(0,i.useState)(!0),{currentUser:w}=(0,o.d4)(n=>n.auth),A=(0,o.wA)();return(0,r.jsx)(l.m,{children:(0,r.jsxs)(v,{children:[(0,r.jsx)(s.h,{children:"Создание поста"}),(0,r.jsx)(a.p,{type:"text",placeholder:"Введите заголовок поста",value:n,onChange:n=>e(n.target.value)}),(0,r.jsx)(y,{type:"text",placeholder:"Введите текст поста",value:t,onChange:n=>c(n.target.value)}),(0,r.jsxs)(j,{children:[(0,r.jsxs)(b.J,{children:["Общедоступный",(0,r.jsx)(_,{type:"radio",checked:g,onChange:()=>m(!0)})]}),(0,r.jsxs)(b.J,{children:["Только для друзей",(0,r.jsx)(_,{type:"radio",checked:!g,onChange:()=>m(!1)})]})]}),(0,r.jsx)(d.$,{onClick:()=>{if(""===n.trim()||""===t.trim()){alert("Пост не может быть пустым");return}p?(A((0,u.gg)({id:f,text:n,isPublic:g})),x(!1),h(null)):A((0,u.SD)({id:Date.now(),text:n,textarea:t,isPublic:g,author:w})),e(""),c("")},children:p?"Обновить пост":"Добавить пост"})]})})};function A(){return(0,r.jsx)(w,{})}},1735:(n,e,t)=>{"use strict";t.d(e,{Ay:()=>a,SD:()=>i,gg:()=>u});let r=(0,t(8943).Z0)({name:"posts",initialState:{posts:[]},reducers:{addPost:(n,e)=>{let t={...e.payload,comments:[]};n.posts.push(t)},deletePost:(n,e)=>{let{postId:t,currentUser:r,isAdmin:i}=e.payload;n.posts=n.posts.filter(n=>{var e;return n.id!==t||!(i||(null===(e=n.author)||void 0===e?void 0:e.username)===(null==r?void 0:r.username))})},updatePost:(n,e)=>{let t=n.posts.findIndex(n=>n.id===e.payload.id);-1!==t&&(n.posts[t]={...n.posts[t],...e.payload})},addComment:(n,e)=>{let t=n.posts.find(n=>n.id===e.payload.postId);t&&t.comments.push(e.payload.comment)}}}),{addPost:i,deletePost:o,updatePost:u,addComment:l}=r.actions,a=r.reducer},2817:(n,e,t)=>{"use strict";t.d(e,{$:()=>l});var r=t(5155);t(2115);var i=t(698);function o(){let n=(0,i._)(["\n  border-radius: 10px;\n    color: white;\n    transition: .2s linear;\n    background: #0B63F6;\n    padding: 5px 15px;\n    cursor:pointer;\n\n    &:hover{\n  box-shadow: 0 0 0 2px white, 0 0 0 4px #3C82F8;\n    }\n"]);return o=function(){return n},n}let u=t(5285).Ay.button(o()),l=n=>{let{children:e,...t}=n;return(0,r.jsx)(u,{...t,children:e})}},5360:(n,e,t)=>{"use strict";t.d(e,{m:()=>l});var r=t(5155);t(2115);var i=t(698);function o(){let n=(0,i._)(["\n    max-width: 1024px;\n    margin: 0 auto;\n    gap: 20px;\n    margin-top: 50px;\n"]);return o=function(){return n},n}let u=t(5285).Ay.div(o()),l=n=>{let{children:e}=n;return(0,r.jsx)(u,{children:e})}},1591:(n,e,t)=>{"use strict";t.d(e,{p:()=>x});var r=t(5155),i=t(2115),o=t(698),u=t(5285);function l(){let n=(0,o._)(["\n   width: 100%;\n   \n"]);return l=function(){return n},n}function a(){let n=(0,o._)(["\n    outline: none;\n    border: 1px solid ","; \n    padding: 11px 3px;\n    border-radius: 5px;\n    width: 100%;\n    max-width: 100%;\n  \n\n    &:focus {\n        border-color: ",";\n    }\n"]);return a=function(){return n},n}function d(){let n=(0,o._)(["\n    color: red;\n    font-size: 0.75rem;\n    top: 50%;\n    left: 10px;\n    transform: translateY(-50%);\n    pointer-events: none;\n"]);return d=function(){return n},n}let s=u.Ay.div(l()),c=u.Ay.input(a(),n=>{let{$error:e}=n;return"true"===e?"red":"#282c34"},n=>{let{$error:e}=n;return"true"===e?"red":"#007BFF"}),p=u.Ay.span(d()),x=i.forwardRef((n,e)=>{let{errorMessage:t,...i}=n;return(0,r.jsxs)(s,{children:[(0,r.jsx)(c,{ref:e,...i,$error:t?"true":void 0}),t&&(0,r.jsx)(p,{children:t})]})})},4877:(n,e,t)=>{"use strict";t.d(e,{J:()=>l});var r=t(5155);t(2115);var i=t(698);function o(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: column;\n  align-items:center;\n  gap: 10px;\n"]);return o=function(){return n},n}let u=t(5285).Ay.label(o()),l=n=>{let{children:e}=n;return(0,r.jsx)(u,{children:e})}},539:(n,e,t)=>{"use strict";t.d(e,{h:()=>l});var r=t(5155);t(2115);var i=t(698);function o(){let n=(0,i._)(["\nfont-size: 26px;\n    line-height: 26px;\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    font-: 26px;\n    font-weight: 400;\n"]);return o=function(){return n},n}let u=t(5285).Ay.h1(o()),l=n=>{let{children:e}=n;return(0,r.jsx)(u,{children:e})}}},n=>{var e=e=>n(n.s=e);n.O(0,[694,441,517,358],()=>e(1753)),_N_E=n.O()}]);