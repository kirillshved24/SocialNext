{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/progectnext/my-app/src/app/pages/HomePage/styles.js"],"sourcesContent":[" import styled from \"styled-components\";\r\n\r\nexport const UserInfo = styled.div`\r\n display: flex;\r\n    align-items: center;\r\n    gap: 15px;\r\n    padding: 10px 20px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 10px;\r\n    max-width: 350px;\r\n    margin: 20px 0;\r\n    background-color: #b89898;\r\n`;\r\nexport const UserIcon = styled.div`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  background-color: #e0e0e0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 24px;\r\n  color: #555;\r\n`;\r\n\r\nexport const UserDetails = styled.div`\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  color: #333;\r\n`;\r\nexport const ContentWrapper = styled.div`\r\n    display: flex;\r\n    gap: 15px;\r\n    max-width: 1000px;\r\n    width: 100%;\r\n`"],"names":[],"mappings":";;;;;;AAAC;;AAEM,MAAM,WAAW,2KAAA,CAAA,UAAM,CAAC,GAAG,CAAC;;;;;;;;;;AAUnC,CAAC;AACM,MAAM,WAAW,2KAAA,CAAA,UAAM,CAAC,GAAG,CAAC;;;;;;;;;;AAUnC,CAAC;AAEM,MAAM,cAAc,2KAAA,CAAA,UAAM,CAAC,GAAG,CAAC;;;;AAItC,CAAC;AACM,MAAM,iBAAiB,2KAAA,CAAA,UAAM,CAAC,GAAG,CAAC;;;;;AAKzC,CAAC"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file://D%3A/progectnext/my-app/src/app/pages/FriendsPage/components/MyFriends/styles.js"],"sourcesContent":["import styled from \"styled-components\"; \r\n\r\nexport const FriendsBlock = styled.div`\r\ndisplay: flex;\r\n    gap: 15px;\r\n    flex-direction: column;\r\n    background: #998383;\r\n    border-radius: 10px;\r\n    max-width: 250px;\r\n    width: 100%;\r\n    margin-top: 20px;\r\n`;\r\nexport const FriendsList = styled.ul`\r\n  list-style-type: none;\r\n  padding: 0;\r\n`;\r\nexport const FriendItem = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #ccc;\r\n`;\r\nexport const NoFriendsMessage = styled.p`\r\n  font-style: italic;\r\n  color: #999;\r\n`;\r\nexport const ContentBlock=styled.div`\r\n   display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    max-width: 1000px;\r\n    width: 100%;\r\n    gap: 15px;\r\n    height: 50%;\r\n\r\n`"],"names":[],"mappings":";;;;;;;AAAA;;AAEO,MAAM,eAAe,2KAAA,CAAA,UAAM,CAAC,GAAG,CAAC;;;;;;;;;AASvC,CAAC;AACM,MAAM,cAAc,2KAAA,CAAA,UAAM,CAAC,EAAE,CAAC;;;AAGrC,CAAC;AACM,MAAM,aAAa,2KAAA,CAAA,UAAM,CAAC,GAAG,CAAC;;;;;AAKrC,CAAC;AACM,MAAM,mBAAmB,2KAAA,CAAA,UAAM,CAAC,CAAC,CAAC;;;AAGzC,CAAC;AACM,MAAM,eAAa,2KAAA,CAAA,UAAM,CAAC,GAAG,CAAC;;;;;;;;;AASrC,CAAC"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file://D%3A/progectnext/my-app/src/app/pages/FriendsPage/components/MyFriends/index.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchFriends, removeFriendFromServer } from '../../../../redux/slices/authSlice';\r\nimport { Button } from '../../../../ui/Button';\r\nimport { Title } from '../../../../ui/Typo';\r\nimport * as SC from '../MyFriends/styles';\r\n\r\nexport const MyFriends = () => {\r\n    const { currentUser, friends } = useSelector((state) => state.auth);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (currentUser) {\r\n            console.log('Загрузка друзей для текущего пользователя');\r\n            dispatch(fetchFriends(currentUser.id));\r\n        }\r\n    }, [currentUser, dispatch]);\r\n\r\n    const handleRemoveFriend = (friend) => {\r\n        console.log('Удаление друга:', friend);\r\n        dispatch(removeFriendFromServer(currentUser.id, friend.id));\r\n    };\r\n\r\n    return (\r\n        <SC.FriendsBlock>\r\n            <Title>Ваши друзья</Title>\r\n            <SC.FriendsList>\r\n                {Array.isArray(friends) && friends.length > 0 ? (\r\n                    friends.map(friend => (\r\n                        <SC.FriendItem key={friend.id}>\r\n                            {friend.username}\r\n                            <Button onClick={() => handleRemoveFriend(friend)}>Удалить</Button>\r\n                        </SC.FriendItem>\r\n                    ))\r\n                ) : (\r\n                    <SC.NoFriendsMessage>У вас нет друзей.</SC.NoFriendsMessage>\r\n                )}\r\n            </SC.FriendsList>\r\n        </SC.FriendsBlock>\r\n    );\r\n};"],"names":[],"mappings":";;;;AAAA;;;;;;;;;;;;;;;;AAKA;AAJA;;;;;;;;AAMO,MAAM,YAAY;IACrB,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,cAAW,AAAD,EAAE,CAAC,QAAU,MAAM,IAAI;IAClE,MAAM,WAAW,CAAA,GAAA,8IAAA,CAAA,cAAW,AAAD;IAE3B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,aAAa;YACb,QAAQ,GAAG,CAAC;YACZ,SAAS,aAAa,YAAY,EAAE;QACxC;IACJ,GAAG;QAAC;QAAa;KAAS;IAE1B,MAAM,qBAAqB,CAAC;QACxB,QAAQ,GAAG,CAAC,mBAAmB;QAC/B,SAAS,uBAAuB,YAAY,EAAE,EAAE,OAAO,EAAE;IAC7D;IAEA,qBACI,8OAAC,wKAAG,YAAY;;0BACZ,8OAAC;0BAAM;;;;;;0BACP,8OAAC,wKAAG,WAAW;0BACV,MAAM,OAAO,CAAC,YAAY,QAAQ,MAAM,GAAG,IACxC,QAAQ,GAAG,CAAC,CAAA,uBACR,8OAAC,wKAAG,UAAU;;4BACT,OAAO,QAAQ;0CAChB,8OAAC;gCAAO,SAAS,IAAM,mBAAmB;0CAAS;;;;;;;uBAFnC,OAAO,EAAE;;;;8CAMjC,8OAAC,wKAAG,gBAAgB;8BAAC;;;;;;;;;;;;;;;;;AAKzC"}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file://D%3A/progectnext/my-app/src/app/pages/PostPage/components/PostFriends/styles.js"],"sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const PostListContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    align-items: center;\r\n    max-width: 600px;\r\n    width: 100%;\r\n`;\r\n\r\nexport const PostList = styled.ul`\r\n margin-top: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 15px;\r\n    max-width: 600px;\r\n    width: 100%;\r\n`;\r\nexport const PostItem = styled.li`\r\npadding: 15px;\r\n    border-radius: 5px;\r\n    margin-bottom: 15px;\r\n    background-color: #978080;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 16px;\r\n`;\r\nexport const PostAuthor = styled.p`\r\n  font-weight: bold;\r\n  margin-top: 5px;\r\n`;\r\nexport const CommentList = styled.ul`\r\n  list-style-type: none;\r\n  padding: 0;\r\n  margin-top: 10px;\r\n`;\r\nexport const CommentItem = styled.li`\r\n  padding: 10px;\r\n  background-color: #eee;\r\n  border-radius: 4px;\r\n  margin-top: 5px;\r\n`;\r\nexport const CommentInput = styled.input`\r\n  margin-top: 10px;\r\n  padding: 8px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n`;\r\nexport const PostText=styled.p`\r\n    font-size: 26px;\r\n    line-height: 16px;\r\n    align-items: center;\r\n    display: flex;\r\n    flex-direction: column;\r\n    color:white;\r\n`\r\nexport const ActionButtons = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n`;"],"names":[],"mappings":";;;;;;;;;;;AAAA;;AAEO,MAAM,oBAAoB,2KAAA,CAAA,UAAM,CAAC,GAAG,CAAC;;;;;;;AAO5C,CAAC;AAEM,MAAM,WAAW,2KAAA,CAAA,UAAM,CAAC,EAAE,CAAC;;;;;;;AAOlC,CAAC;AACM,MAAM,WAAW,2KAAA,CAAA,UAAM,CAAC,EAAE,CAAC;;;;;;;;AAQlC,CAAC;AACM,MAAM,aAAa,2KAAA,CAAA,UAAM,CAAC,CAAC,CAAC;;;AAGnC,CAAC;AACM,MAAM,cAAc,2KAAA,CAAA,UAAM,CAAC,EAAE,CAAC;;;;AAIrC,CAAC;AACM,MAAM,cAAc,2KAAA,CAAA,UAAM,CAAC,EAAE,CAAC;;;;;AAKrC,CAAC;AACM,MAAM,eAAe,2KAAA,CAAA,UAAM,CAAC,KAAK,CAAC;;;;;;;AAOzC,CAAC;AACM,MAAM,WAAS,2KAAA,CAAA,UAAM,CAAC,CAAC,CAAC;;;;;;;AAO/B,CAAC;AACM,MAAM,gBAAgB,2KAAA,CAAA,UAAM,CAAC,GAAG,CAAC;;;;AAIxC,CAAC"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file://D%3A/progectnext/my-app/src/app/pages/PostPage/components/PostFriends/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Button } from '../../../../ui/Button'; \r\nimport { Title } from '../../../../ui/Typo'; \r\nimport * as SC from './styles';\r\n\r\nexport const PostFriends = ({ posts, currentUser, isAdmin, onDeletePost, onAddComment }) => {\r\n    const [commentText, setCommentText] = useState('');\r\n\r\n    const handleAddComment = (postId) => {\r\n        if (!commentText.trim()) {\r\n            alert('Комментарий не может быть пустым');\r\n            return;\r\n        }\r\n        const newComment = { id: Date.now(), text: commentText, author: { username: currentUser.username, name: currentUser.name } };\r\n        onAddComment(postId, newComment);\r\n        setCommentText('');\r\n    };\r\n\r\n    const canDeletePost = (post) => isAdmin || (post.author?.username === currentUser?.username);\r\n\r\n    return (\r\n        <SC.PostListContainer>\r\n            {posts.length > 0 ? (\r\n                <SC.PostList>\r\n                    {posts.map((post) => (\r\n                        <SC.PostItem key={post.id}>\r\n                            <SC.PostAuthor>{post.author.username}</SC.PostAuthor>\r\n                            <SC.PostText>{post.text}</SC.PostText>\r\n\r\n                            {canDeletePost(post) && (\r\n                                <SC.ActionButtons>\r\n                                    <Button onClick={() => onDeletePost(post.id)}>\r\n                                        Удалить пост\r\n                                    </Button>\r\n                                </SC.ActionButtons>\r\n                            )}\r\n\r\n                            <Title>Комментарии</Title>\r\n                            <SC.CommentList>\r\n                                {post.comments?.map((comment) => (\r\n                                    <SC.CommentItem key={comment.id}>\r\n                                        {comment.author.username}: {comment.text}\r\n                                    </SC.CommentItem>\r\n                                ))}\r\n                            </SC.CommentList>\r\n\r\n                            <SC.CommentInput\r\n                                type=\"text\"\r\n                                placeholder=\"Добавить комментарий\"\r\n                                value={commentText}\r\n                                onChange={(e) => setCommentText(e.target.value)}\r\n                            />\r\n                            <Button onClick={() => handleAddComment(post.id)}>Добавить комментарий</Button>\r\n                        </SC.PostItem>\r\n                    ))}\r\n                </SC.PostList>\r\n            ) : (\r\n                <Title>Нет постов для отображения.</Title>\r\n            )}\r\n        </SC.PostListContainer>\r\n    );\r\n};"],"names":[],"mappings":";;;;AAAA;;;;;;;;;;;AAGA;;;;;;AAEO,MAAM,cAAc,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE;IACnF,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,mBAAmB,CAAC;QACtB,IAAI,CAAC,YAAY,IAAI,IAAI;YACrB,MAAM;YACN;QACJ;QACA,MAAM,aAAa;YAAE,IAAI,KAAK,GAAG;YAAI,MAAM;YAAa,QAAQ;gBAAE,UAAU,YAAY,QAAQ;gBAAE,MAAM,YAAY,IAAI;YAAC;QAAE;QAC3H,aAAa,QAAQ;QACrB,eAAe;IACnB;IAEA,MAAM,gBAAgB,CAAC,OAAS,WAAY,KAAK,MAAM,EAAE,aAAa,aAAa;IAEnF,qBACI,8OAAC,uKAAG,iBAAiB;kBAChB,MAAM,MAAM,GAAG,kBACZ,8OAAC,uKAAG,QAAQ;sBACP,MAAM,GAAG,CAAC,CAAC,qBACR,8OAAC,uKAAG,QAAQ;;sCACR,8OAAC,uKAAG,UAAU;sCAAE,KAAK,MAAM,CAAC,QAAQ;;;;;;sCACpC,8OAAC,uKAAG,QAAQ;sCAAE,KAAK,IAAI;;;;;;wBAEtB,cAAc,uBACX,8OAAC,uKAAG,aAAa;sCACb,cAAA,8OAAC;gCAAO,SAAS,IAAM,aAAa,KAAK,EAAE;0CAAG;;;;;;;;;;;sCAMtD,8OAAC;sCAAM;;;;;;sCACP,8OAAC,uKAAG,WAAW;sCACV,KAAK,QAAQ,EAAE,IAAI,CAAC,wBACjB,8OAAC,uKAAG,WAAW;;wCACV,QAAQ,MAAM,CAAC,QAAQ;wCAAC;wCAAG,QAAQ,IAAI;;mCADvB,QAAQ,EAAE;;;;;;;;;;sCAMvC,8OAAC,uKAAG,YAAY;4BACZ,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;sCAElD,8OAAC;4BAAO,SAAS,IAAM,iBAAiB,KAAK,EAAE;sCAAG;;;;;;;mBA3BpC,KAAK,EAAE;;;;;;;;;iCAgCjC,8OAAC;sBAAM;;;;;;;;;;;AAIvB"}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 422, "column": 0}, "map": {"version":3,"sources":["file://D%3A/progectnext/my-app/src/app/pages/HomePage/index.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { deletePost, addComment } from '../../redux/slices/postSlice';\r\nimport { Container } from '../../ui/Container';\r\nimport { Title } from '../../ui/Typo';\r\nimport * as SC from './styles';\r\nimport { MyFriends } from '../FriendsPage/components/MyFriends';\r\nimport { PostFriends } from '../PostPage/components/PostFriends';\r\n\r\nexport const HomePage = () => {\r\n  const posts = useSelector((state) => state.posts.posts);\r\n  const { currentUser, isAdmin, friends } = useSelector((state) => state.auth); \r\n  const dispatch = useDispatch();\r\n\r\n  // Логирование списка друзей\r\n  console.log(\"Список друзей на главной странице:\", friends);\r\n\r\n  // Функция для проверки, является ли пользователь другом\r\n  const isFriend = (postAuthor) => {\r\n    return friends.some((friend) => friend.username === postAuthor.username);\r\n};\r\n\r\n  const visiblePosts = posts.filter((post) => {\r\n    const postAuthor = post.author;\r\n    return post.isPublic || isFriend(postAuthor) || isAdmin;\r\n});\r\n\r\n  const handleDeletePost = (postId) => {\r\n    dispatch(deletePost({ postId, currentUser, isAdmin }));\r\n  };\r\n\r\n  const handleAddComment = (postId, newComment) => {\r\n    dispatch(addComment({ postId, comment: newComment }));\r\n  };\r\n\r\n  return ( \r\n    <Container>\r\n      <Title>Добро пожаловать на главную страницу!</Title>\r\n      {currentUser && (\r\n        <SC.UserInfo>\r\n          <SC.UserIcon />\r\n          <SC.UserDetails>\r\n            <p>{currentUser.email} ({isAdmin ? 'Администратор' : 'Пользователь'})</p>\r\n          </SC.UserDetails>\r\n        </SC.UserInfo>\r\n      )}\r\n      <SC.ContentWrapper>\r\n        <MyFriends currentUser={currentUser}/>\r\n        <PostFriends\r\n          posts={visiblePosts}\r\n          currentUser={currentUser}\r\n          isAdmin={isAdmin}\r\n          onDeletePost={handleDeletePost}\r\n          onAddComment={handleAddComment}\r\n        />\r\n      </SC.ContentWrapper>\r\n    </Container>\r\n  );\r\n};"],"names":[],"mappings":";;;;AAAA;;;;;;;;;;;;;;;;AAKA;AACA;AACA;AANA;;;;;;;;;;AAQO,MAAM,WAAW;IACtB,MAAM,QAAQ,CAAA,GAAA,8IAAA,CAAA,cAAW,AAAD,EAAE,CAAC,QAAU,MAAM,KAAK,CAAC,KAAK;IACtD,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,cAAW,AAAD,EAAE,CAAC,QAAU,MAAM,IAAI;IAC3E,MAAM,WAAW,CAAA,GAAA,8IAAA,CAAA,cAAW,AAAD;IAE3B,4BAA4B;IAC5B,QAAQ,GAAG,CAAC,sCAAsC;IAElD,wDAAwD;IACxD,MAAM,WAAW,CAAC;QAChB,OAAO,QAAQ,IAAI,CAAC,CAAC,SAAW,OAAO,QAAQ,KAAK,WAAW,QAAQ;IAC3E;IAEE,MAAM,eAAe,MAAM,MAAM,CAAC,CAAC;QACjC,MAAM,aAAa,KAAK,MAAM;QAC9B,OAAO,KAAK,QAAQ,IAAI,SAAS,eAAe;IACpD;IAEE,MAAM,mBAAmB,CAAC;QACxB,SAAS,WAAW;YAAE;YAAQ;YAAa;QAAQ;IACrD;IAEA,MAAM,mBAAmB,CAAC,QAAQ;QAChC,SAAS,WAAW;YAAE;YAAQ,SAAS;QAAW;IACpD;IAEA,qBACE,8OAAC;;0BACC,8OAAC;0BAAM;;;;;;YACN,6BACC,8OAAC,0IAAG,QAAQ;;kCACV,8OAAC,0IAAG,QAAQ;;;;;kCACZ,8OAAC,0IAAG,WAAW;kCACb,cAAA,8OAAC;;gCAAG,YAAY,KAAK;gCAAC;gCAAG,UAAU,kBAAkB;gCAAe;;;;;;;;;;;;;;;;;;0BAI1E,8OAAC,0IAAG,cAAc;;kCAChB,8OAAC,uKAAA,CAAA,YAAS;wBAAC,aAAa;;;;;;kCACxB,8OAAC,sKAAA,CAAA,cAAW;wBACV,OAAO;wBACP,aAAa;wBACb,SAAS;wBACT,cAAc;wBACd,cAAc;;;;;;;;;;;;;;;;;;AAKxB"}},
    {"offset": {"line": 555, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}